package lab6;

import tester.Tester;

// a json value
interface JSON {}
 
// no value
class JSONBlank implements JSON {}
 
// a number
class JSONNumber implements JSON {
  int number;
 
  JSONNumber(int number) {
    this.number = number;
  }
}
 
// a boolean
class JSONBool implements JSON {
  boolean bool;
 
  JSONBool(boolean bool) {
    this.bool = bool;
  }
}
 
// a string
class JSONString implements JSON {
  String str;
 
  JSONString(String str) {
    this.str = str;
  }
}

interface JSONVisitor<T> {
  T visitBlank(JSONBlank b);
  T visitNumber(JSONNumber n);
  T visitBoolean(JSONBool b);
  T visitString(JSONString s);
}

class JSONToNumber implements JSONVisitor<Integer> {
  public Integer visitBlank(JSONBlank b) {
    return 0;
  }

  public Integer visitNumber(JSONNumber n) {
    return n.number;
  }

  public Integer visitBoolean(JSONBool b) {
    return b.bool ? 1 : 0;
  }

  public Integer visitString(JSONString s) {
    return s.str.length();
  }
}

class ExamplesJSON {
  
  JSON jb = new JSONBlank();
  JSON jn1 = new JSONNumber(7);
  JSON jn2 = new JSONNumber(2);
  JSON jb1 = new JSONBool(true);
  JSON jb2 = new JSONBool(false);
  JSON js1 = new JSONString("cat");
  JSON js2 = new JSONString("I'm hungry.");
  
  IList<JSON> list1 = new ConsList<JSON>(jb, 
                       new ConsList<JSON>(jn1, 
                        new ConsList<JSON>(jb1,
                          new ConsList<JSON>(js1, new MtList<JSON>()))));
  
  IList<Integer> list2 = new ConsList<Integer>(0, 
                          new ConsList<Integer>(7, 
                           new ConsList<Integer>(1,
                             new ConsList<Integer>(3, new MtList<Integer>()))));
  
  
  boolean testJSONToNumber(Tester t) {
    return t.checkExpect(null, null);
  }
}